(this["webpackJsonpmy-rpro"]=this["webpackJsonpmy-rpro"]||[]).push([[0],{10:function(e,t,n){e.exports={nav:"Navbar_nav__1xRfO",navItem:"Navbar_navItem__3lTEo",decoration:"Navbar_decoration__NkD5c",navItemIcon:"Navbar_navItemIcon__idZfc",navItemText:"Navbar_navItemText__1xcKg",a:"Navbar_a__brDh-",active:"Navbar_active__RMmus"}},107:function(e,t,n){e.exports={posts:"MyPosts_posts__3227D",postsTitle:"MyPosts_postsTitle__2JAwL"}},155:function(e,t,n){e.exports={item:"News_item__9OW0N"}},156:function(e,t,n){e.exports={item:"Music_item__3CaPB"}},157:function(e,t,n){e.exports={item:"Settings_item__3T9fH"}},160:function(e,t,n){e.exports={gifka:"Loader_gifka__2bye6"}},17:function(e,t,n){e.exports={description:"ProfileInfo_description__2BMw-",userImg:"ProfileInfo_userImg__2JHfL",userImgInput:"ProfileInfo_userImgInput__Y0ArT",userImgLabel:"ProfileInfo_userImgLabel__3BR75",userImgLabelButton:"ProfileInfo_userImgLabelButton__26AFc",userNameAboveStatus:"ProfileInfo_userNameAboveStatus__32xwS",status:"ProfileInfo_status__2KNRM",statusSpan:"ProfileInfo_statusSpan__34wfF",statusInput:"ProfileInfo_statusInput__2fN_R",profileInfo:"ProfileInfo_profileInfo__31Y7h",profileInfoContact:"ProfileInfo_profileInfoContact__L4WOW",profileInfoButton:"ProfileInfo_profileInfoButton__mmEOT",profileInfoTitle:"ProfileInfo_profileInfoTitle__qTJhk",profileInfoEdit:"ProfileInfo_profileInfoEdit__22Vo7"}},194:function(e,t,n){},21:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2yzB0",dialogsItems:"Dialogs_dialogsItems__ARvkF",dialogsItem:"Dialogs_dialogsItem__2oGPo",dialogsItemLink:"Dialogs_dialogsItemLink__1HAFj",dialogsMessages:"Dialogs_dialogsMessages__d3g9S",dialogsActive:"Dialogs_dialogsActive__1OMOY",messageInner:"Dialogs_messageInner__2abHj",messageOuter:"Dialogs_messageOuter__3SpFV",messageTextarea:"Dialogs_messageTextarea__36-8_",messageButton:"Dialogs_messageButton__1hYjt",messageLabel:"Dialogs_messageLabel__3Dr-N",messageLabelText:"Dialogs_messageLabelText__wld-L",messageArea:"Dialogs_messageArea__2CVXO"}},26:function(e,t,n){e.exports={selectedPage:"Users_selectedPage__24xg3",paginator:"Users_paginator__3HDrw",anim2:"Users_anim2__1q3ig",paginatorButton:"Users_paginatorButton__1XbKb",anim:"Users_anim__3Z5Z9",user:"Users_user__-uq86",userName:"Users_userName__2Abbx",userButtonFollow:"Users_userButtonFollow__1D6In",userButtonUnfollow:"Users_userButtonUnfollow__1vYVu",userDecor:"Users_userDecor__2yk7o",userAva:"Users_userAva__2BGRl"}},274:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var r,a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,342)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},s=n(0),c=n.n(s),i=n(44),o=n.n(i),u=(n(194),n(13)),l=n(57),d=n(5),j="ADD-NEW-TEXT-MESSAGE",b={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sasha"},{id:4,name:"Dima"},{id:5,name:"Valera"},{id:6,name:"Danil"}],messages:[{id:1,message:"Hi Alexander"},{id:2,message:"How are u?"},{id:3,message:"What are u doing?"},{id:4,message:"Lets code on React"},{id:4,message:"Im free"}]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;if(t.type===j){var n=t.message;return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),[{id:5,message:n}])})}return e},f=n(9),O=n.n(f),p=n(18),h=n(33),x=n(141),g=n.n(x).a.create({withCredentials:!0,headers:{"API-KEY":"109ee755-2793-4679-9f30-299f9cb84e2d"},baseURL:"https://social-network.samuraijs.com/api/1.0/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={}));var _,v={getUsers:function(e,t){return g.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},delUser:function(e){return g.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))},addUser:function(e){return g.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))}},I=function(e){return g.get("profile/".concat(e)).then((function(e){return e.data}))},N=function(e){return g.get("profile/status/".concat(e)).then((function(e){return e.data}))},S=function(e){return g.put("profile/status",{status:e}).then((function(e){return e.data}))},w=function(e){return g.put("profile",e).then((function(e){return e.data}))},T=function(e){var t=new FormData;return t.append("image",e),g.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))};!function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(_||(_={}));var E,y=function(){return g.get("auth/me").then((function(e){return e.data}))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return g.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},C=function(){return g.delete("auth/login").then((function(e){return e.data}))},k=function(){return g.get("security/get-captcha-url").then((function(e){return e.data}))},L=function(e){return{type:"ADD_POST",postText:e}},A=function(e){return{type:"SET_USER_PROFILE",profile:e}},U=function(e){return{type:"SET_STATUS",status:e}},F=function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},D=function(){return{type:"SAVE_PROFILE_SUCCESS"}},M={posts:[{id:1,message:"Hello",likeCount:"1"},{id:2,message:"Hi",likeCount:"12"},{id:3,message:"Where you",likeCount:"4"},{id:4,message:"Bi",likeCount:"2"},{id:5,message:"Blue",likeCount:"53"}],profile:null,status:"",postText:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[{id:5,message:t.postText,likeCount:"53"}])});case"SET_USER_PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});case"SAVE_PROFILE_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)({},e.profile)});default:return e}},B={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},H=function(e){return{type:"ADD_USER",id:e}},V=function(e){return{type:"SET_ISFETCHING",isFetching:e}},G=function(e){return{type:"DELETE_USER",id:e}},J=function(e){return{type:"SET_USERS",users:e}},Y=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},q=function(e){return{type:"SET_TOTAL_COUNT_USER",totalCount:e}},z=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",following:e,userId:t}},W=function(){var e=Object(p.a)(O.a.mark((function e(t,n,a,s){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0,n)),e.next=3,a(n);case 3:e.sent===r.Success&&t(s(n)),t(z(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case"DELETE_USER":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_COUNT_USER":return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.totalCount});case"SET_ISFETCHING":return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.following?[].concat(Object(l.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},K="SET_USER_AUTH",Z="SET_CUPTCHA",Q=function(e,t,n,r){return{type:K,payload:{userId:e,email:t,login:n,isAuth:r}}},$=function(e){return{type:Z,payload:{captchaUrl:e}}},ee={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},te=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,s,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:(n=e.sent).resultCode===r.Success&&(a=n.data,s=a.id,c=a.email,i=a.login,t(Q(s,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;return t.type===K||t.type===Z?Object(d.a)(Object(d.a)({},e),t.payload):e},re=n(142),ae=n(140),se="SET_INITIALIZED",ce={initialized:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return t.type===se?Object(d.a)(Object(d.a)({},e),{},{initialized:!0}):e},oe=Object(u.c)({profilePage:R,messagesPage:m,usersPage:X,authReducer:ne,appReducer:ie,form:ae.a}),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,le=Object(u.e)(oe,ue(Object(u.a)(re.a))),de=(n(274),n(15)),je=n(10),be=n.n(je),me=n(146),fe=n.n(me),Oe=n(150),pe=n.n(Oe),he=n(151),xe=n.n(he),ge=n(152),_e=n.n(ge),ve=n(153),Ie=n.n(ve),Ne=n(154),Se=n.n(Ne),we=n(1),Te=function(e){return Object(we.jsxs)("nav",{className:be.a.nav,children:[Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/profile",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(fe.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"My profile"})]})}),Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/users",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(pe.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"Users"})]})}),Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/dialogs",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(xe.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"Messages"})]})}),Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/news",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(_e.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"News"})]})}),Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/music",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(Ie.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"Music"})]})}),Object(we.jsx)(de.b,{activeClassName:be.a.active,className:be.a.decoration,to:"/settings",children:Object(we.jsxs)("div",{className:be.a.navItem,children:[Object(we.jsx)("div",{className:be.a.navItemIcon,children:Object(we.jsx)(Se.a,{})}),Object(we.jsx)("div",{className:be.a.navItemText,children:"Settings"})]})})]})},Ee=n(155),ye=n.n(Ee),Pe=function(){return Object(we.jsx)("div",{className:ye.a.item,children:"News"})},Ce=n(14),ke=n(156),Le=n.n(ke),Ae=function(){return Object(we.jsx)("div",{className:Le.a.item,children:"Music"})},Ue=n(157),Fe=n.n(Ue),De=function(){return Object(we.jsx)("div",{className:Fe.a.item,children:"Settings"})},Me=n(21),Re=n.n(Me),Be=function(e){var t=e.id,n=e.name;return Object(we.jsx)("div",{className:Re.a.dialogsItem,children:Object(we.jsxs)(de.b,{activeClassName:Re.a.dialogsActive,className:Re.a.dialogsItemLink,to:"/dialogs/".concat(t),children:[" ",n," "]})})},He=function(e){var t=e.message;return Object(we.jsx)("div",{className:Re.a.messageOuter,children:Object(we.jsxs)("div",{className:Re.a.messageInner,children:[" ",t," "]})})},Ve=n(138),Ge=n(139),Je=n(108),Ye=n(51),qe=n.n(Ye),ze=function(e){var t=e.input,n=e.meta,r=Object(Je.a)(e,["input","meta"]),a=!(!n.touched||!n.error);return Object(we.jsxs)("div",{className:qe.a.bord+" "+(a?qe.a.error:""),children:[Object(we.jsx)("textarea",Object(d.a)(Object(d.a)(Object(d.a)({},n),t),r)),a?Object(we.jsx)("span",{children:n.error}):void 0]})},We=function(e){var t=e.input,n=e.meta,r=Object(Je.a)(e,["input","meta"]),a=!(!n.touched||!n.error);return Object(we.jsxs)("div",{className:qe.a.bord+" "+(a?qe.a.error:""),children:[Object(we.jsx)("input",Object(d.a)(Object(d.a)(Object(d.a)({},n),t),r)),a?Object(we.jsx)("span",{children:n.error}):void 0]})},Xe=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(we.jsxs)("div",{children:[Object(we.jsx)(Ve.a,Object(d.a)({placeholder:e,name:t,component:n,validate:r},a))," ",s]})},Ke=function(e){if(!e)return"Field is required"},Ze=n(6),Qe=(E=function(){var e=Object(Ze.d)(),t=Object(Ze.e)((function(e){return e.messagesPage})),n=t.dialogs.map((function(e){return Object(we.jsx)(Be,{name:e.name,id:e.id})})),r=t.messages.map((function(e){return Object(we.jsx)(He,{message:e.message})}));return Object(we.jsxs)("div",{className:Re.a.dialogs,children:[Object(we.jsx)("div",{className:Re.a.dialogsItems,children:n}),Object(we.jsxs)("div",{className:Re.a.messageArea,children:[Object(we.jsx)("div",{className:Re.a.dialogsMessages,children:r}),Object(we.jsx)(et,{onSubmit:function(t){var n;e((n=t.message,{type:j,message:n})),t.message=""}})]})]})},function(){return Object(Ze.e)((function(e){return e.authReducer.isAuth}))?Object(we.jsx)(E,{}):Object(we.jsx)(Ce.a,{to:"/login"})}),$e=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}(30),et=Object(Ge.a)({form:"dialogAddMessageForm"})((function(e){return Object(we.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(we.jsx)("div",{children:Object(we.jsx)(Ve.a,{className:Re.a.messageTextarea,placeholder:"Your message",name:"message",component:ze,validate:[Ke,$e]})}),Object(we.jsxs)("div",{children:[Object(we.jsx)("button",{className:Re.a.messageButton,id:"addMessageButton",children:"Add Message"}),Object(we.jsx)("label",{className:Re.a.messageLabel,htmlFor:"addMessageButton",children:Object(we.jsx)("span",{className:Re.a.messageLabelText,children:"Add Message"})})]})]})})),tt=Qe,nt=n(38),rt=n(26),at=n.n(rt),st=function(e){for(var t=e.onPageChanged,n=Object(Ze.e)((function(e){return e.usersPage.totalUsersCount})),r=Object(Ze.e)((function(e){return e.usersPage.pageSize})),a=Object(Ze.e)((function(e){return e.usersPage.currentPage})),c=Object(s.useState)(1),i=Object(nt.a)(c,2),o=i[0],u=i[1],l=Math.ceil(n/r),d=Math.ceil(l/r),j=[],b=1;b<=l;b++)j.push(b);var m=r*o+1-r,f=r*o+1-1;return Object(we.jsxs)("div",{className:at.a.paginator,children:[Object(we.jsx)("button",{className:at.a.paginatorButton,disabled:1===o,onClick:function(){u(o-1)},children:"PREV"}),j.map((function(e){return e>=m&&e<=f&&Object(we.jsx)("span",{className:a===e&&at.a.selectedPage,onClick:function(n){t(e)},children:e})})),Object(we.jsx)("button",{className:at.a.paginatorButton,disabled:o===d,onClick:function(){u(o+1)},children:"NEXT"})]})},ct=function(e){var t=Object(Ze.e)((function(e){return e.usersPage.followingInProgress})),n=Object(Ze.d)(),r=e.item;return Object(we.jsxs)("div",{className:at.a.user,children:[Object(we.jsxs)("div",{className:at.a.userDecor,children:[Object(we.jsx)("div",{children:Object(we.jsx)(de.b,{to:"/profile/"+r.id,children:Object(we.jsx)("img",{src:r.photos.large||"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",className:at.a.userAva,alt:"no img"})})}),Object(we.jsx)("div",{children:r.followed?Object(we.jsx)("button",{className:at.a.userButtonUnfollow,disabled:t.some((function(e){return e===r.id})),onClick:function(){var e;n((e=r.id,function(){var t=Object(p.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,v.delUser.bind(v),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Unfollow"}):Object(we.jsx)("button",{className:at.a.userButtonFollow,disabled:t.some((function(e){return e===r.id})),onClick:function(){var e;n((e=r.id,function(){var t=Object(p.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,v.addUser.bind(v),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Follow"})})]}),Object(we.jsxs)("div",{children:[Object(we.jsx)("div",{className:at.a.userName,children:r.name}),Object(we.jsx)("div",{children:r.status})]})]})},it=n(160),ot=n.n(it),ut=n.p+"static/media/giphy.b75b820d.gif",lt=function(){return Object(we.jsx)("div",{children:Object(we.jsx)("img",{src:ut,className:ot.a.gifka,alt:"\u0422\u0435\u043a\u0441\u0442"})})},dt=function(e){var t=Object(Ze.e)((function(e){return e.usersPage.users})),n=Object(Ze.e)((function(e){return e.usersPage.isFetching}));return Object(we.jsxs)("div",{children:[Object(we.jsx)(st,{onPageChanged:e.onPageChanged}),n||Object(we.jsx)(lt,{}),t.map((function(e){return Object(we.jsx)(ct,{item:e},e.id)}))]})},jt=function(){var e=Object(Ze.e)((function(e){return[e.usersPage.currentPage,e.usersPage.pageSize]})),t=Object(nt.a)(e,2),n=t[0],r=t[1],a=Object(Ze.d)();Object(s.useEffect)((function(){a(function(e,t){return function(){var n=Object(p.a)(O.a.mark((function n(r,a){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(V(!1)),n.next=3,v.getUsers(e,t);case 3:s=n.sent,r(V(!0)),r(J(s.items)),r(q(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(n,r))}),[n,r,a]);return Object(we.jsx)("div",{children:Object(we.jsx)(dt,{onPageChanged:function(e){a(function(e,t){return function(){var n=Object(p.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(V(!1)),r(Y(e)),n.next=4,v.getUsers(e,t);case 4:a=n.sent,r(V(!0)),r(J(a.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,r))}})})},bt=n(107),mt=n.n(bt),ft=n(47),Ot=n.n(ft),pt=n(161),ht=n.n(pt),xt=function(e){var t=e.message,n=e.like,r=Object(Ze.e)((function(e){return e.profilePage.profile}));if(!r)return Object(we.jsx)("div",{});var a=r.photos.large;return r.photos.large||(a="https://wgsi.utoronto.ca/wp-content/uploads/2020/12/blank-profile-picture-png.png"),Object(we.jsxs)("div",{className:Ot.a.item,children:[Object(we.jsx)("img",{className:Ot.a.itemImg,src:"".concat(a),alt:"no img"}),Object(we.jsxs)("div",{className:Ot.a.itemInner,children:[Object(we.jsx)("div",{className:Ot.a.itemInnerMessage,children:t}),Object(we.jsxs)("div",{className:Ot.a.itemInnerLike,children:[Object(we.jsx)("div",{className:Ot.a.itemInnerLikeIcon,children:Object(we.jsx)(ht.a,{})}),Object(we.jsx)("div",{className:Ot.a.itemInnerLikeText,children:n})]})]})]})},gt=n(59),_t=n.n(gt),vt=function(e){var t=e.onSubmit;return Object(we.jsx)("div",{children:Object(we.jsx)(It,{onSubmit:t})})},It=Object(Ge.a)({form:"postText"})((function(e){var t=e.handleSubmit;return Object(we.jsxs)("form",{onSubmit:t,className:_t.a.form,children:[Object(we.jsx)("div",{children:Object(we.jsx)(Ve.a,{placeholder:"Your post text",name:"postText",component:ze,maxLength:300,className:_t.a.formText})}),Object(we.jsxs)("div",{children:[Object(we.jsx)("button",{id:"addPostButton",className:_t.a.formButton,children:"Add post"}),Object(we.jsx)("label",{htmlFor:"addPostButton",className:_t.a.formLabel,children:Object(we.jsx)("span",{className:_t.a.formLabelText,children:"Add New Post"})})]})]})})),Nt=function(){var e=Object(Ze.e)((function(e){return e.profilePage.posts})),t=Object(Ze.d)(),n=e.map((function(e){return Object(we.jsx)(xt,{message:e.message,like:e.likeCount},e.id)}));return Object(we.jsxs)("div",{className:mt.a.posts,children:[Object(we.jsx)("h3",{className:mt.a.postsTitle,children:" My posts "}),Object(we.jsx)("div",{children:Object(we.jsx)(vt,{onSubmit:function(e){t(L(e.postText)),e.postText=""}})}),Object(we.jsx)("div",{children:n})]})},St=n(17),wt=n.n(St),Tt=Object(Ge.a)({form:"profileForm"})((function(e){var t=e.error,n=e.profile,r=e.handleSubmit;return Object(we.jsxs)("form",{onSubmit:r,children:[t&&Object(we.jsxs)("div",{children:[" ",t]}),Object(we.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(we.jsxs)("div",{children:[Object(we.jsx)("b",{children:"Full Name"})," ",Xe("Full Name","fullName",We,[Ke],{})]}),Object(we.jsxs)("div",{children:[Object(we.jsx)("b",{children:"About Me"})," ",Xe("About Me","aboutMe",We,[],{})]}),Object(we.jsxs)("div",{children:[Object(we.jsx)("b",{children:"Looking For A Job"})," ",Xe("","lookingForAJob",We,[],{type:"checkbox"})]}),Object(we.jsxs)("div",{children:[Object(we.jsx)("b",{children:"My professional skills"})," ",Xe("My skills","lookingForAJobDescription",We,[],{})]}),Object(we.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object(we.jsx)("div",{children:Object.entries(n.contacts).map((function(e){return Object(we.jsxs)("div",{className:wt.a.contact,children:[Object(we.jsx)("b",{children:e[0]+":"}),Xe(e[0],"contacts."+e[0],We,[],{})]},e[0])}))})]})})),Et=function(e){var t=e.error,n=e.initialValues,a=e.profile,s=e.offEditMode,c=Object(Ze.d)();return Object(we.jsx)(Tt,{error:t,initialValues:n,profile:a,onSubmit:function(e){c(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:if((a=t.sent).resultCode!==r.Success){t.next=7;break}n(D()),t.next=10;break;case 7:if(a.resultCode!==r.Error){t.next=10;break}return n(Object(h.a)("profileForm",{_error:a.messages[0]})),t.abrupt("return",Promise.reject(a.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){s()}))}})},yt=function(e){var t=e.profile,n=e.owner,r=e.onEditMode;return Object(we.jsxs)("div",{className:wt.a.profileInfo,children:[Object(we.jsxs)("div",{children:[Object(we.jsx)("span",{className:wt.a.profileInfoTitle,children:"Main information"}),n()&&Object(we.jsx)("label",{htmlFor:"profileEditButton",className:wt.a.profileInfoEdit,children:"Edit"}),n()&&Object(we.jsx)("button",{onClick:r,id:"profileEditButton",className:wt.a.profileInfoButton,children:"EditMode"})]}),Object(we.jsx)("div",{children:t.fullName}),Object(we.jsx)("div",{children:"User ID: ".concat(t.userId)}),Object(we.jsx)("div",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: ".concat(t.aboutMe?t.aboutMe:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e")}),Object(we.jsx)("div",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ".concat(t.lookingForAJob?"yes":"no")}),t.lookingForAJob?Object(we.jsx)("div",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: ".concat(t.lookingForAJobDescription)}):null,Object(we.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object(we.jsx)("div",{className:wt.a.profileInfoContact,children:Object.entries(t.contacts).map((function(e){return!!e[1]&&Object(we.jsx)("div",{children:"".concat(e[0]," : ").concat(e[1])},e[0])}))})]})},Pt=c.a.memo((function(e){var t=e.owner,n=Object(Ze.d)(),r=Object(Ze.e)((function(e){return e.profilePage.status}),Ze.c),a=Object(s.useState)(!1),c=Object(nt.a)(a,2),i=c[0],o=c[1],u=Object(s.useState)(r),l=Object(nt.a)(u,2),d=l[0],j=l[1];Object(s.useEffect)((function(){j(r)}),[r]);return Object(we.jsxs)("div",{className:wt.a.status,children:[t()?!i&&Object(we.jsx)("div",{children:Object(we.jsx)("span",{className:wt.a.statusSpan,onDoubleClick:function(){o(!0)},children:r||"No status"})}):Object(we.jsx)("span",{className:wt.a.statusSpan,children:r||"No status"}),i&&Object(we.jsx)("div",{children:Object(we.jsx)("input",{className:wt.a.statusInput,autoFocus:!0,value:d,onBlur:function(){var e;o(!1),n((e=d,function(){var t=Object(p.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:0===t.sent.resultCode&&n(U(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},onChange:function(e){j(e.currentTarget.value)},maxLength:60})})]})})),Ct=n(341),kt=function(e){var t=Object(Ze.d)(),n=Object(Ze.e)((function(e){return e.profilePage.profile})),a=Object(s.useState)(!1),c=Object(nt.a)(a,2),i=c[0],o=c[1];if(!n)return Object(we.jsx)(lt,{});return Object(we.jsxs)("div",{className:wt.a.description,children:[Object(we.jsxs)("div",{children:[Object(we.jsx)("img",{className:wt.a.userImg,alt:"no img",src:n.photos.large||"https://wgsi.utoronto.ca/wp-content/uploads/2020/12/blank-profile-picture-png.png"}),e.owner()?[Object(we.jsx)("input",{onChange:function(e){var n;t((n=e.currentTarget.files[0],function(){var e=Object(p.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:(a=e.sent).resultCode===r.Success&&t(F(a.data.photos));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},type:"file",accept:"image/*",id:"avatar",className:wt.a.userImgInput}),Object(we.jsx)("label",{htmlFor:"avatar",className:wt.a.userImgLabel,children:Object(we.jsx)(Ct.a,{variant:"contained",color:"primary",component:"span",className:wt.a.userImgLabelButton,children:"Upload"})})]:void 0]}),Object(we.jsxs)("div",{children:[Object(we.jsx)("div",{className:wt.a.userNameAboveStatus,children:n.fullName}),Object(we.jsx)(Pt,{owner:e.owner}),i?Object(we.jsx)(Et,{error:e.error,offEditMode:function(){o(!1)},initialValues:n,profile:n}):Object(we.jsx)(yt,{onEditMode:function(){o(!0)},owner:e.owner,profile:n})]})]})},Lt=function(e){return Object(we.jsxs)("div",{children:[Object(we.jsx)(kt,{error:e.error,owner:e.owner}),Object(we.jsx)(Nt,{})]})},At=Object(u.d)(Ce.f)((function(e){var t=Object(Ze.d)(),n=Object(Ze.e)((function(e){return e.authReducer.userId})),r=e.match.params.userId;return Object(s.useEffect)((function(){var r=e.match.params.userId;r||(r=n)||e.history.push("/login"),t(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:r=t.sent,n(A(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),t(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:r=t.sent,n(U(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r))}),[e,n,t]),Object(we.jsx)("div",{children:Object(we.jsx)(Lt,Object(d.a)(Object(d.a)({},e),{},{error:e.error,owner:function(){return!(!n||void 0!==r&&r!==n)}}))})})),Ut=n(35),Ft=n.n(Ut),Dt=n(162),Mt=n.n(Dt),Rt=c.a.memo((function(){var e=Object(Ze.d)(),t=Object(Ze.e)((function(e){return e.authReducer.login})),n=Object(Ze.e)((function(e){return e.authReducer.isAuth}));return Object(we.jsxs)("header",{className:Ft.a.head,children:[Object(we.jsx)(de.b,{to:"/",children:Object(we.jsx)("div",{className:Ft.a.icon,children:Object(we.jsx)(Mt.a,{color:"primary",style:{fontSize:40}})})}),Object(we.jsx)("div",{className:Ft.a.login,children:n?Object(we.jsxs)("div",{className:Ft.a.logout,children:[Object(we.jsx)("div",{className:Ft.a.test+" "+Ft.a.userName,children:t+" "}),Object(we.jsx)("div",{className:Ft.a.test,children:Object(we.jsx)(Ct.a,{className:Ft.a.buttonLogout,variant:"outlined",color:"primary",onClick:function(){e(function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:e.sent.resultCode===r.Success&&t(Q(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})]}):Object(we.jsx)(de.b,{to:"/login",children:Object(we.jsx)("div",{className:Ft.a.login,children:Object(we.jsx)(Ct.a,{variant:"contained",color:"primary",children:"Login"})})})})]})})),Bt=Object(Ge.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=Object(Ze.e)((function(e){return e.authReducer.captchaUrl}));return Object(we.jsxs)("form",{onSubmit:t,children:[Xe("www.bagzbanny@mail.ru","email",We,[Ke]),Xe("1a2s3d4f5g","password",We,[Ke],{type:"password"}),Xe("","rememberMe",We,[],{type:"checkbox"},"Remember Me"),r&&Object(we.jsx)("img",{alt:"no img",src:r}),r&&Xe("enter symbols","captcha",We,[Ke]),n&&Object(we.jsxs)("div",{className:qe.a.commonError,children:[" ",n]}),Object(we.jsx)("div",{children:Object(we.jsx)("button",{children:"LOGIN"})})]})})),Ht=function(e){var t=Object(Ze.d)();return Object(Ze.e)((function(e){return e.authReducer.isAuth}))?Object(we.jsx)(Ce.a,{to:"/profile"}):Object(we.jsxs)("div",{children:[Object(we.jsx)("h1",{children:"LOGIN"}),Object(we.jsx)(Bt,{onSubmit:function(e){var n,a,s,c;t((n=e.email,a=e.password,s=e.rememberMe,c=e.captcha,function(){var e=Object(p.a)(O.a.mark((function e(t){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n,a,s,c);case 2:(i=e.sent).resultCode===r.Success?t(te()):(i.resultCode===_.CaptchaIsRequired&&t(function(){var e=Object(p.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:n=e.sent,r=n.url,t($(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(Object(h.a)("login",{_error:i.messages[0]||"error"})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})},Vt=Object(Ce.f)((function(e){var t=Object(Ze.e)((function(e){return e.appReducer.initialized})),n=Object(Ze.d)();return Object(s.useEffect)((function(){n(function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(te())]);case 2:t({type:se});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),t?Object(we.jsxs)("div",{className:"app-wrapper",children:[Object(we.jsx)(Rt,{}),Object(we.jsx)(Te,{}),Object(we.jsxs)("div",{className:"app-wrapper-content",children:[Object(we.jsx)(Ce.b,{path:"/profile/:userId?",render:function(){return Object(we.jsx)(At,{})}}),Object(we.jsx)(Ce.b,{path:"/dialogs",render:function(){return Object(we.jsx)(tt,{})}}),Object(we.jsx)(Ce.b,{path:"/users",render:function(){return Object(we.jsx)(jt,{})}}),Object(we.jsx)(Ce.b,{path:"/news",render:function(){return Object(we.jsx)(Pe,{})}}),Object(we.jsx)(Ce.b,{path:"/music",render:function(){return Object(we.jsx)(Ae,{})}}),Object(we.jsx)(Ce.b,{path:"/settings",render:function(){return Object(we.jsx)(De,{})}}),Object(we.jsx)(Ce.b,{path:"/login",render:function(){return Object(we.jsx)(Ht,{})}}),Object(we.jsx)(Ce.b,{exact:!0,path:"/",render:function(){return Object(we.jsx)(Ht,{})}})]}),Object(we.jsx)("div",{className:"weather",children:Object(we.jsx)("div",{className:"weatherYandex",children:Object(we.jsxs)("a",{href:"https://clck.yandex.ru/redir/dtype=stred/pid=7/cid=1228/*https://yandex.ru/pogoda/54",rel:"noreferrer",target:"_blank",children:[Object(we.jsx)("img",{src:"https://info.weather.yandex.net/54/1_white.ru.png?domain=ru",border:"0",alt:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u043e\u0433\u043e\u0434\u0430"}),Object(we.jsx)("img",{width:"1",height:"1",src:"https://clck.yandex.ru/click/dtype=stred/pid=7/cid=1227/*https://img.yandex.ru/i/pix.gif",alt:"",border:"0"})]})})})]}):Object(we.jsx)(lt,{})}));o.a.render(Object(we.jsx)(Ze.a,{store:le,children:Object(we.jsx)(de.a,{children:Object(we.jsx)(c.a.StrictMode,{children:Object(we.jsx)(Vt,{})})})}),document.getElementById("root")),window.store=le,a()},35:function(e,t,n){e.exports={head:"Header_head__2Fn-N",icon:"Header_icon__1lj7M",login:"Header_login__3nGY8",logout:"Header_logout__21Q1q",test:"Header_test__aBgPE",buttonLogout:"Header_buttonLogout__YZlty",userName:"Header_userName__MayFa"}},47:function(e,t,n){e.exports={item:"Post_item__2A05Z",itemInner:"Post_itemInner__1sqV9",itemInnerLike:"Post_itemInnerLike__2BRj-",itemInnerLikeIcon:"Post_itemInnerLikeIcon__2qsQF",itemInnerLikeText:"Post_itemInnerLikeText__StG7t",itemInnerMessage:"Post_itemInnerMessage__2u6Tx",itemImg:"Post_itemImg__2B0Wr"}},51:function(e,t,n){e.exports={bord:"FormsControls_bord__3CyJh",error:"FormsControls_error__3V-Xt",commonError:"FormsControls_commonError__1UuYx"}},59:function(e,t,n){e.exports={form:"postForm_form__3hbeC",formText:"postForm_formText__1mTDD",formButton:"postForm_formButton__1KcC8",formLabel:"postForm_formLabel__29oLg",formLabelText:"postForm_formLabelText__1KUtv"}}},[[324,1,2]]]);
//# sourceMappingURL=main.3cd2a062.chunk.js.map